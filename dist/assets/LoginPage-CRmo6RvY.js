import{_ as e,r,K as s,j as a,A as t,k as l,$ as d,a0 as i,a1 as o}from"./react-vendor-CYm809Et.js";import{u as n}from"./authStore-D2_G-NGY.js";import"./vendor-DC1Pnyyi.js";import"./chart-vendor-hJRC9QiP.js";import"./utils-vendor-YtSAaKOK.js";const c=()=>{const c=e(),{login:m}=n(),[x,u]=r.useState(""),[g,b]=r.useState(!1),{register:h,handleSubmit:p,formState:{errors:y}}=s({defaultValues:{email:"",password:"",role:"admin",rememberMe:!1}});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-colors",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"KumoMTA Admin"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Sign in to manage your email infrastructure"})]}),a.jsxs("div",{className:"bg-white dark:bg-dark-surface rounded-lg shadow-xl p-8",children:[a.jsxs("form",{onSubmit:p(async e=>{u(""),b(!0);try{const r=btoa(`${e.email}:${e.password}`);await new Promise(e=>setTimeout(e,500));const s={id:"1",email:e.email,name:e.email.split("@")[0],role:e.role};m(s,r),c("/")}catch(r){u(r instanceof Error?r.message:"Login failed. Please check your credentials.")}finally{b(!1)}}),className:"space-y-6",children:[x&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg flex items-start",children:[a.jsx(t,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-sm",children:x})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(l,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),a.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",id:"email",className:`block w-full pl-10 pr-3 py-2 border ${y.email?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"admin@example.com",disabled:g})]}),y.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(d,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),a.jsx("input",{...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",id:"password",className:`block w-full pl-10 pr-3 py-2 border ${y.password?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,placeholder:"••••••••",disabled:g})]}),y.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"h-4 w-4"}),a.jsx("span",{children:"Login As"})]})}),a.jsxs("select",{...h("role",{required:"Please select a role"}),id:"role",className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g,children:[a.jsx("option",{value:"admin",children:"Administrator - Full Access"}),a.jsx("option",{value:"operator",children:"Operator - Queue Management"}),a.jsx("option",{value:"viewer",children:"Viewer - Read Only"}),a.jsx("option",{value:"auditor",children:"Auditor - Security & Logs"})]}),y.role&&a.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.role.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{...h("rememberMe"),id:"rememberMe",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800",disabled:g}),a.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):a.jsxs(a.Fragment,{children:[a.jsx(o,{className:"h-5 w-5 mr-2"}),"Sign In"]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Protected by HTTP Basic Authentication"})})]}),a.jsxs("div",{className:"mt-4 space-y-2 text-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx("p",{children:"Enter your credentials to access the dashboard"}),a.jsx("p",{children:"Select a role to match your permission level"})]})]})})};export{c as default};
