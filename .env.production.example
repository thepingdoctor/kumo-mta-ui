# KumoMTA UI Production Environment Configuration
# Copy this file to .env and configure for your production environment

#==============================================================================
# DOMAIN & SSL CONFIGURATION
#==============================================================================
# Your production domain name
DOMAIN=kumomta.example.com

# Let's Encrypt email for SSL certificate notifications
LETSENCRYPT_EMAIL=admin@example.com

# Use Let's Encrypt staging server for testing (true/false)
STAGING=false

#==============================================================================
# API CONFIGURATION
#==============================================================================
# Base URL for KumoMTA REST API (use HTTPS in production)
VITE_API_URL=https://api.kumomta.example.com

# WebSocket URL for real-time updates (optional, defaults to VITE_API_URL with wss:// protocol)
VITE_WS_URL=wss://api.kumomta.example.com

#==============================================================================
# AUTHENTICATION & SESSION
#==============================================================================
# Session timeout in milliseconds (default: 24 hours)
VITE_SESSION_TIMEOUT=86400000

# JWT secret for token signing (generate with: openssl rand -hex 32)
JWT_SECRET=your-secret-key-here

# Session secret for cookie signing
SESSION_SECRET=your-session-secret-here

#==============================================================================
# POLLING CONFIGURATION
#==============================================================================
# Metrics refresh interval in milliseconds (default: 30000 = 30 seconds in production)
VITE_METRICS_INTERVAL=30000

# Queue refresh interval in milliseconds (default: 20000 = 20 seconds in production)
VITE_QUEUE_INTERVAL=20000

#==============================================================================
# FEATURE FLAGS
#==============================================================================
# Enable WebSocket real-time updates (recommended for production)
VITE_ENABLE_WEBSOCKET=true

# Enable performance monitoring
VITE_ENABLE_PERFORMANCE_MONITORING=true

# Enable error tracking
VITE_ENABLE_ERROR_TRACKING=true

# Enable HTTPS enforcement
VITE_FORCE_HTTPS=true

# Enable CSRF protection
VITE_ENABLE_CSRF=true

#==============================================================================
# LOGGING
#==============================================================================
# Log level: debug | info | warn | error
VITE_LOG_LEVEL=warn

# Log file path (inside container)
LOG_FILE=/var/log/kumomta/app.log

# Backend log level
LOG_LEVEL=info

#==============================================================================
# DATABASE & CACHE
#==============================================================================
# Redis configuration (if using Redis for caching)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-strong-redis-password-here

# Database configuration (if applicable)
# DB_HOST=kumomta-backend
# DB_PORT=5432
# DB_NAME=kumomta
# DB_USER=kumomta
# DB_PASSWORD=your-strong-db-password-here

#==============================================================================
# BACKEND CONFIGURATION
#==============================================================================
# KumoMTA Docker image
KUMOMTA_IMAGE=kumomta/kumomta:latest

# KumoMTA environment
KUMOMTA_ENV=production

# API request timeout in milliseconds
VITE_API_TIMEOUT=30000

#==============================================================================
# MONITORING & ALERTING
#==============================================================================
# Email for alerts and notifications
ALERT_EMAIL=alerts@example.com

# Slack webhook for notifications
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Discord webhook for notifications
DISCORD_WEBHOOK=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL

# Grafana admin password
GRAFANA_ADMIN_PASSWORD=your-strong-grafana-password

#==============================================================================
# SECURITY
#==============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://kumomta.example.com,https://www.kumomta.example.com

# Rate limiting (requests per minute)
RATE_LIMIT=100

# Max request body size (in MB)
MAX_BODY_SIZE=10

# Enable security headers
ENABLE_SECURITY_HEADERS=true

#==============================================================================
# PERFORMANCE
#==============================================================================
# Enable caching
ENABLE_CACHE=true

# Cache TTL in seconds
CACHE_TTL=3600

# Enable compression
ENABLE_COMPRESSION=true

# Worker processes (nginx)
NGINX_WORKER_PROCESSES=auto

# Worker connections (nginx)
NGINX_WORKER_CONNECTIONS=2048

#==============================================================================
# DEVELOPMENT (Disable in production)
#==============================================================================
# Enable development mode features
VITE_DEV_MODE=false

# Enable React Query DevTools
VITE_ENABLE_DEVTOOLS=false

# Enable debug logging
DEBUG=false

#==============================================================================
# BACKUP & MAINTENANCE
#==============================================================================
# Backup retention days
BACKUP_RETENTION_DAYS=7

# Maintenance mode
MAINTENANCE_MODE=false

#==============================================================================
# DOCKER CONFIGURATION
#==============================================================================
# Docker network subnet
DOCKER_SUBNET=172.28.0.0/16

# Container restart policy
RESTART_POLICY=unless-stopped

#==============================================================================
# SMTP CONFIGURATION (for email notifications)
#==============================================================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@example.com
# SMTP_PASSWORD=your-smtp-password
# SMTP_FROM=KumoMTA UI <noreply@example.com>

#==============================================================================
# ADDITIONAL SERVICES
#==============================================================================
# Prometheus retention time
PROMETHEUS_RETENTION=30d

# Enable optional services
ENABLE_PROMETHEUS=true
ENABLE_GRAFANA=true
ENABLE_REDIS=true
